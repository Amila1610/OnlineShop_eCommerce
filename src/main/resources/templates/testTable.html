<!DOCTYPE html>
<html>
<head>
    <title>Bootstrap Example</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css"
          integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.css">
</head>
<body>

<h2>Products</h2>
<table id="product"
       data-toggle="table"
       data-url="http://localhost:8080/product/getproduct">
    <thead>
    <tr>
        <th data-field="idproduct" data-align="center">ID</th>
        <th data-field="name" data-align="center">Name</th>
        <th data-field="description" data-align="center">Description</th>
        <th data-field="price" data-align="center">Price</th>
        <th data-field="quantity" data-align="center">Quantity</th>
        <th data-field="active" data-align="center">Active</th>
        <th data-field="custom" data-events="window.operateEvents" data-align="center" data-formatter="optionFormat">
            Options
        </th>
    </tr>
    </thead>
</table>

</body>
<script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
<script src="https://unpkg.com/bootstrap-table@1.19.1/dist/bootstrap-table.min.js"></script>
<script>
    function optionFormat(value, row) {
        return [
            '<a class="remove" href="javascript:void(0)" title="Remove">',
            '<i class="fa fa-trash"></i>',
            '</a>'
        ].join('')
    }

    window.operateEvents = {
        'click .remove': function (e, value, row) {
            if (confirm('Are you sure you want to delete this?')) {
                $.ajax({
                    type: "DELETE",
                    url: "/product/products/delete/" + row.idproduct,
                    headers: {'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')},
                    success: function (content) {
                        $('#alert').html(content)
                        $('#product').bootstrapTable('refresh')
                    },
                    error: function (error) {
                        console.log(error + " " + JSON.stringify(row));
                    }
                });
            }
        }
    }
</script>
</html>
